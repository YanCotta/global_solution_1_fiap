# SISTEMA GUARDIÃƒO - MASTER DOCUMENTATION

## Plataforma Nacional Integrada de PrevenÃ§Ã£o e Resposta a Eventos Extremos

**Status:** Em Desenvolvimento (Global Solution FIAP 2025.1 - Sprint de 10 Dias)  
**RepositÃ³rio:** [https://github.com/YanCotta/global_solution_1_fiap](https://github.com/YanCotta/global_solution_1_fiap)  
**Equipe:** Yan Cotta  
**Data de CriaÃ§Ã£o:** Maio 2025  
**VersÃ£o:** 2.0 - DocumentaÃ§Ã£o Consolidada  

---

## ğŸ¯ SUMÃRIO EXECUTIVO EXPANDIDO

O **Sistema GuardiÃ£o** transcende a gestÃ£o de crises tradicional, estabelecendo-se como uma **plataforma nacional de inteligÃªncia simbiÃ³tica**, onde a mais avanÃ§ada **InteligÃªncia Artificial agÃªntica** se entrelaÃ§a com a **sabedoria ancestral do folclore brasileiro**. Esta fusÃ£o nÃ£o Ã© meramente nominal; ela inspira a arquitetura de agentes autÃ´nomos especializados (os "GuardiÃµes Digitais"), cada um ecoando as caracterÃ­sticas protetoras de suas contrapartes lendÃ¡rias. O sistema Ã© projetado com um **foco dual e indissociÃ¡vel**: por um lado, a **prevenÃ§Ã£o proativa**, antecipando e mitigando ameaÃ§as antes de sua materializaÃ§Ã£o; por outro, a **resposta Ã¡gil e coordenada**, orquestrando recursos de forma otimizada quando eventos extremos ocorrem.

A **inovaÃ§Ã£o central** reside na aplicaÃ§Ã£o de **IA agÃªntica em escala nacional para infraestruturas crÃ­ticas**. Diferentemente de sistemas centralizados e monolÃ­ticos, o GuardiÃ£o opera como um ecossistema de agentes inteligentes e colaborativos. Esta abordagem permite uma **coordenaÃ§Ã£o descentralizada, resiliente e emergente**, capaz de se adaptar dinamicamente a cenÃ¡rios complexos e imprevistos, garantindo a continuidade operacional e a seguranÃ§a da naÃ§Ã£o.

### Proposta de Valor Multifacetada

O Sistema GuardiÃ£o oferece um valor transformador para mÃºltiplos stakeholders:

* **Para o Governo e Ã“rgÃ£os PÃºblicos:**
  * **SeguranÃ§a Nacional Aprimorada:** Capacidade preditiva e de resposta significativamente elevada contra uma vasta gama de ameaÃ§as (naturais, tecnolÃ³gicas, sanitÃ¡rias, cibernÃ©ticas).
  * **OtimizaÃ§Ã£o de Recursos e ReduÃ§Ã£o de Custos:** AlocaÃ§Ã£o inteligente de recursos emergenciais, minimizando desperdÃ­cios e maximizando o impacto das intervenÃ§Ãµes. ReduÃ§Ã£o de custos associados a danos e reconstruÃ§Ã£o.
  * **Tomada de DecisÃ£o Baseada em Dados:** Dashboards e anÃ¡lises avanÃ§adas para embasar polÃ­ticas pÃºblicas e estratÃ©gias de longo prazo.
  * **ResiliÃªncia da Infraestrutura CrÃ­tica:** ProteÃ§Ã£o robusta para setores vitais como energia, Ã¡gua, comunicaÃ§Ãµes, saÃºde e transportes.

* **Para os CidadÃ£os:**
  * **SeguranÃ§a e Bem-Estar Aumentados:** ReduÃ§Ã£o do risco de exposiÃ§Ã£o a desastres e eventos extremos, com sistemas de alerta precoce mais eficazes e personalizados.
  * **Melhoria da Qualidade de Vida:** MinimizaÃ§Ã£o de interrupÃ§Ãµes em serviÃ§os essenciais e maior rapidez na recuperaÃ§Ã£o pÃ³s-evento.
  * **ConfianÃ§a e TransparÃªncia:** ComunicaÃ§Ã£o clara e acessÃ­vel sobre riscos e aÃ§Ãµes de proteÃ§Ã£o, fortalecendo o elo entre o Estado e a populaÃ§Ã£o.

* **Para Empresas e Setor Privado:**
  * **ResiliÃªncia Operacional e Continuidade de NegÃ³cios:** ProteÃ§Ã£o de ativos e infraestruturas, minimizando perdas e interrupÃ§Ãµes de produÃ§Ã£o.
  * **Novas Oportunidades de Mercado:** Desenvolvimento de soluÃ§Ãµes e serviÃ§os complementares ao ecossistema GuardiÃ£o.
  * **ReduÃ§Ã£o de Riscos e PrÃªmios de Seguro:** MitigaÃ§Ã£o de riscos operacionais e ambientais, potencialmente levando a condiÃ§Ãµes de seguro mais favorÃ¡veis.
  * **Dados para InovaÃ§Ã£o:** Acesso (controlado e anonimizado) a dados e insights para desenvolvimento de novos produtos e serviÃ§os.

### InovaÃ§Ã£o Central: IA AgÃªntica em Escala Nacional

**CoordenaÃ§Ã£o Multi-Agente:** Sistema onde cada subsistema funciona como um agente inteligente autÃ´nomo, utilizando princÃ­pios de CrewAI (fundada por um brasileiro) e LangGraph para coordenaÃ§Ã£o emergente.

**Valores Ãšnicos de Proposta:**
- **InteligÃªncia Preventiva:** Alertas dias antes de 85% dos eventos catastrÃ³ficos
- **PrevenÃ§Ã£o de Cascatas:** IntervenÃ§Ã£o automatizada antes da propagaÃ§Ã£o de falhas
- **OtimizaÃ§Ã£o de Recursos:** AlocaÃ§Ã£o dinÃ¢mica reduzindo tempo de resposta em pelo menos 60%
- **IntegraÃ§Ã£o Cultural:** Nomenclatura baseada no folclore brasileiro para confianÃ§a pÃºblica

### Os Cinco GuardiÃµes Digitais

1. **ğŸ¦¶ CURUPIRA** - Centro Unificado de Resposta e ProteÃ§Ã£o de Infraestruturas CrÃ­ticas
   * **MissÃ£o:** ProteÃ§Ã£o hÃ­brida fÃ­sico-digital de infraestruturas crÃ­ticas
   * **EspecializaÃ§Ã£o:** CorrelaÃ§Ã£o de ameaÃ§as cibernÃ©ticas com sensores fÃ­sicos
   * **IA:** Detector hÃ­brido com redes neurais ensemble

2. **ğŸ¥ IARA** - InteligÃªncia Artificial para Resposta e Alerta EpidemiolÃ³gico
   * **MissÃ£o:** PrediÃ§Ã£o precoce de surtos atravÃ©s de monitoramento ambiental
   * **EspecializaÃ§Ã£o:** Modelos epidemiolÃ³gicos adaptativos (SEIR + RL)
   * **IA:** AnÃ¡lise biomÃ©trica distribuÃ­da e correlaÃ§Ã£o comportamental

3. **ğŸ”¥ SACI** - Sistema de Alerta e Combate a IncÃªndios Florestais
   * **MissÃ£o:** DetecÃ§Ã£o ultra-precoce e coordenaÃ§Ã£o autÃ´noma de resposta
   * **EspecializaÃ§Ã£o:** InteligÃªncia de enxame (swarm intelligence)
   * **IA:** Algoritmos inspirados em colÃ´nia de formigas para coordenaÃ§Ã£o distribuÃ­da

4. **âš¡ BOITATÃ** - Bloco Operacional Integrado para Tratamento de Anomalias Urbanas
   * **MissÃ£o:** PrevenÃ§Ã£o de efeitos cascata em sistemas urbanos interdependentes
   * **EspecializaÃ§Ã£o:** Digital twin urbano e anÃ¡lise de dependÃªncias
   * **IA:** Modelagem de sistemas complexos e prediÃ§Ã£o de falhas em cascata

5. **ğŸ“¡ ANHANGÃ** - AlianÃ§a Nacional HÃ­brida para Garantia de Atividades de ComunicaÃ§Ã£o
   * **MissÃ£o:** ComunicaÃ§Ãµes resilientes durante colapso de infraestrutura
   * **EspecializaÃ§Ã£o:** Redes mesh auto-organizÃ¡veis
   * **IA:** Roteamento inteligente e priorizaÃ§Ã£o de mensagens por NLP

---

## ğŸ—ï¸ ARQUITETURA SISTÃŠMICA CONSOLIDADA

A arquitetura do Sistema GuardiÃ£o Ã© concebida para ser robusta, escalÃ¡vel e resiliente, integrando mÃºltiplos subsistemas especializados sob uma coordenaÃ§Ã£o central inteligente. Ela se baseia em princÃ­pios de microsserviÃ§os, computaÃ§Ã£o de borda (edge computing), e inteligÃªncia artificial distribuÃ­da.

### PrincÃ­pios Arquiteturais Chave

*   **Modularidade:** Cada GuardiÃ£o Digital (CURUPIRA, IARA, SACI, BOITATÃ, ANHANGÃ) Ã© um subsistema independente, permitindo desenvolvimento, implantaÃ§Ã£o e escalabilidade isolados.
*   **DescentralizaÃ§Ã£o Coordenada:** Enquanto subsistemas operam com autonomia em seus domÃ­nios, o `GuardianCentralOrchestrator` provÃª a inteligÃªncia estratÃ©gica e a coordenaÃ§Ã£o sinÃ©rgica entre eles.
*   **ResiliÃªncia:** Alta disponibilidade e tolerÃ¢ncia a falhas sÃ£o incorporadas em todas as camadas, desde a infraestrutura de comunicaÃ§Ã£o atÃ© os algoritmos de IA.
*   **SeguranÃ§a por Design (Security by Design):** PrÃ¡ticas de seguranÃ§a sÃ£o integradas desde a concepÃ§Ã£o, abrangendo dados, comunicaÃ§Ãµes e processos.
*   **Interoperabilidade:** Interfaces padronizadas e protocolos abertos facilitam a integraÃ§Ã£o com sistemas legados e futuros.
*   **Escalabilidade:** A arquitetura suporta crescimento horizontal e vertical para acomodar aumento de volume de dados, nÃºmero de sensores e complexidade das ameaÃ§as.

### Camadas Arquiteturais

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           CAMADA DE COORDENAÃ‡ÃƒO AGÃŠNTICA                â”‚
â”‚        (GuardianCentralOrchestrator + CrewAI/LangGraph) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CAMADA DE SERVIÃ‡OS DE SUBSISTEMAS (GuardiÃµes Digitais)  â”‚
â”‚     CURUPIRA â”‚ IARA â”‚ SACI â”‚ BOITATÃ â”‚ ANHANGÃ        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           CAMADA DE DADOS E PERSISTÃŠNCIA                â”‚
â”‚ (PostgreSQL, InfluxDB, Neo4j, Pinecone, Data Lakes)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        CAMADA DE COMUNICAÃ‡ÃƒO E MENSAGERIA               â”‚
â”‚ (Kafka, gRPC, MQTT, REST/GraphQL, API Gateway)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      CAMADA DE INTEGRAÃ‡ÃƒO E INTEROPERABILIDADE          â”‚
â”‚ (Adaptadores para Sistemas Externos, Fontes de Dados)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CAMADA DE SENSORIAMENTO E COMPUTAÃ‡ÃƒO DE BORDA (Edge)    â”‚
â”‚ (Sensores IoT, Dispositivos Edge com IA Embarcada)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Protocolos de ComunicaÃ§Ã£o Detalhados

O Sistema GuardiÃ£o emprega um conjunto diversificado de protocolos de comunicaÃ§Ã£o, escolhidos para otimizar diferentes aspectos da interaÃ§Ã£o entre componentes, subsistemas e entidades externas:

*   **ComunicaÃ§Ã£o Interna PrimÃ¡ria (Inter-ServiÃ§os e OrquestraÃ§Ã£o):**
    *   **Apache Kafka:** Utilizado como a espinha dorsal para comunicaÃ§Ã£o assÃ­ncrona, streaming de eventos e dados entre os subsistemas e o `GuardianCentralOrchestrator`. Garante desacoplamento, resiliÃªncia e alta taxa de transferÃªncia.
        *   **Formatos de Dados:** Apache Avro ou Protobuf para serializaÃ§Ã£o eficiente de mensagens, garantindo schemas bem definidos e evoluÃ§Ã£o controlada.
    *   **gRPC (Google Remote Procedure Call):** Empregado para comunicaÃ§Ã£o sÃ­ncrona de baixa latÃªncia e alta performance entre microsserviÃ§os internos, especialmente para requisiÃ§Ãµes diretas e respostas rÃ¡pidas onde o modelo assÃ­ncrono nÃ£o Ã© ideal. Utiliza HTTP/2 e Protobuf.

*   **ComunicaÃ§Ã£o com Dispositivos de Borda (Edge) e IoT:**
    *   **MQTT (Message Queuing Telemetry Transport):** Protocolo leve e eficiente, ideal para a coleta de dados de um grande nÃºmero de sensores IoT e dispositivos de borda com recursos limitados ou conexÃµes instÃ¡veis. Suporta QoS (Quality of Service) para garantir entrega de mensagens crÃ­ticas.

*   **ComunicaÃ§Ã£o com Sistemas Externos e APIs:**
    *   **RESTful APIs (JSON):** Para integraÃ§Ãµes com sistemas legados, parceiros externos e para exposiÃ§Ã£o de funcionalidades especÃ­ficas do GuardiÃ£o a consumidores autorizados. JSON sobre HTTPS Ã© o padrÃ£o.
    *   **GraphQL:** Considerado para interfaces de consulta de dados mais flexÃ­veis, permitindo que clientes solicitem apenas os dados de que necessitam, otimizando a transferÃªncia de dados para dashboards e aplicaÃ§Ãµes mÃ³veis.

*   **Redes de ComunicaÃ§Ã£o Subjacentes:**
    *   A camada de conectividade fÃ­sica se apoiarÃ¡ em 5G/6G para alta largura de banda e baixa latÃªncia, LoRaWAN para comunicaÃ§Ã£o de longo alcance e baixo consumo energÃ©tico em Ã¡reas remotas, redes mesh auto-organizÃ¡veis para resiliÃªncia em cenÃ¡rios de falha de infraestrutura, e comunicaÃ§Ã£o via satÃ©lite como contingÃªncia e para cobertura em locais isolados.

### GuardianCentralOrchestrator: Fluxo de Dados e DecisÃ£o

O `GuardianCentralOrchestrator` Ã© o cÃ©rebro estratÃ©gico do Sistema GuardiÃ£o. Seu fluxo de dados e processo decisÃ³rio sÃ£o complexos e iterativos:

1.  **IngestÃ£o de Eventos e InteligÃªncia:**
    *   Recebe fluxos contÃ­nuos de eventos, alertas e dados processados dos cinco subsistemas (CURUPIRA, IARA, SACI, BOITATÃ, ANHANGÃ) via tÃ³picos dedicados no Kafka.
    *   Consome dados de fontes externas (meteorologia, inteligÃªncia de ameaÃ§as globais, dados governamentais) atravÃ©s de adaptadores especÃ­ficos.

2.  **Enriquecimento e ContextualizaÃ§Ã£o:**
    *   Utiliza o **Pinecone (VectorDB)** para buscar contextos semÃ¢nticos relevantes, como padrÃµes histÃ³ricos de eventos, perfis de ameaÃ§as similares e documentos de procedimentos operacionais.
    *   Consulta o **PostgreSQL** para dados relacionais estruturados, como inventÃ¡rio de ativos crÃ­ticos, polÃ­ticas de seguranÃ§a, e status de recursos.
    *   Acessa o **Neo4j** para entender interdependÃªncias complexas entre infraestruturas e potenciais efeitos cascata.

3.  **AnÃ¡lise e Tomada de DecisÃ£o AgÃªntica:**
    *   Emprega um framework de IA agÃªntica (inspirado em **CrewAI/LangGraph**) onde agentes especializados dentro do Orchestrator analisam a situaÃ§Ã£o multifacetada.
    *   Estes agentes colaboram para: avaliar a severidade e o impacto potencial do evento; simular cenÃ¡rios de resposta; identificar conflitos de recursos; e otimizar a alocaÃ§Ã£o de tarefas.
    *   Modelos de aprendizado de mÃ¡quina (prediÃ§Ã£o, classificaÃ§Ã£o, otimizaÃ§Ã£o) sÃ£o continuamente atualizados e refinados com novos dados.

4.  **DisseminaÃ§Ã£o de Comandos e CoordenaÃ§Ã£o:**
    *   Com base no plano de aÃ§Ã£o gerado, o Orchestrator dissemina tarefas coordenadas e comandos para os subsistemas relevantes:
        *   Via **Kafka** para aÃ§Ãµes assÃ­ncronas e atualizaÃ§Ãµes de estado.
        *   Via **gRPC** para comandos diretos e de baixa latÃªncia que exigem confirmaÃ§Ã£o imediata.
    *   Atualiza dashboards executivos e painÃ©is de controle com a situaÃ§Ã£o em tempo real e as aÃ§Ãµes em curso.

5.  **Monitoramento e Aprendizado ContÃ­nuo:**
    *   Monitora a execuÃ§Ã£o das tarefas pelos subsistemas, recebendo feedback e ajustando o plano conforme necessÃ¡rio.
    *   Registra todos os eventos, decisÃµes e resultados para anÃ¡lise post-mortem e aprendizado contÃ­nuo (RLHF - Reinforcement Learning from Human Feedback e anÃ¡lise de logs).

### SeguranÃ§a, Soberania de Dados e Conformidade

A seguranÃ§a Ã© um pilar fundamental, com uma abordagem de defesa em profundidade:

*   **Arquitetura Zero Trust:** Nenhum usuÃ¡rio ou serviÃ§o Ã© confiÃ¡vel por padrÃ£o, interno ou externo. AutenticaÃ§Ã£o e autorizaÃ§Ã£o rigorosas sÃ£o aplicadas em todas as comunicaÃ§Ãµes (mTLS, OAuth 2.0/OIDC).
*   **Criptografia:**
    *   **Dados em TrÃ¢nsito:** TLS 1.3+ para todas as comunicaÃ§Ãµes. ConsideraÃ§Ã£o para criptografia pÃ³s-quÃ¢ntica (PQC) em canais crÃ­ticos.
    *   **Dados em Repouso:** Criptografia a nÃ­vel de banco de dados (e.g., TDE para PostgreSQL, AES-256 para arquivos em Data Lakes) e a nÃ­vel de volume/disco.
    *   **Gerenciamento de Chaves:** SoluÃ§Ãµes robustas de gerenciamento de chaves (HSMs ou KMS em nuvem, se aplicÃ¡vel e alinhado com soberania).
*   **SeguranÃ§a de APIs:** Uso de API Gateways com WAF (Web Application Firewall), rate limiting, e detecÃ§Ã£o de anomalias.
*   **SeguranÃ§a de Infraestrutura:** SegmentaÃ§Ã£o de rede, firewalls, IDS/IPS, e monitoramento contÃ­nuo de vulnerabilidades.
*   **Soberania de Dados:**
    *   **LocalizaÃ§Ã£o:** Todos os dados sensÃ­veis e operacionais serÃ£o armazenados e processados em data centers localizados exclusivamente em territÃ³rio brasileiro.
    *   **Conformidade com LGPD (Lei Geral de ProteÃ§Ã£o de Dados):** ImplementaÃ§Ã£o de mecanismos de anonimizaÃ§Ã£o, pseudonimizaÃ§Ã£o, gestÃ£o de consentimento, direito ao esquecimento, e relatÃ³rios de impacto Ã  proteÃ§Ã£o de dados (RIPD).
    *   **CertificaÃ§Ãµes e Auditorias:** Busca por certificaÃ§Ãµes relevantes (e.g., ISO 27001, SOC 2) e conformidade com diretrizes do Gabinete de SeguranÃ§a Institucional (GSI) para sistemas estratÃ©gicos de defesa e seguranÃ§a nacional.

### ImplementaÃ§Ã£o da IA AgÃªntica

A abordagem de IA agÃªntica Ã© central para a inteligÃªncia e adaptabilidade do Sistema GuardiÃ£o:

*   **Subsistemas como Agentes Especializados:** Cada GuardiÃ£o Digital (CURUPIRA, IARA, etc.) Ã©, em si, um agente ou um conjunto de agentes especializados em seu domÃ­nio. Eles possuem:
    *   **PercepÃ§Ã£o:** Capacidade de ingerir e processar dados de seus sensores e fontes especÃ­ficas.
    *   **RaciocÃ­nio:** Modelos de IA e lÃ³gicas de negÃ³cio para analisar dados, detectar anomalias, prever eventos e formular planos de aÃ§Ã£o locais.
    *   **AÃ§Ã£o:** Capacidade de executar aÃ§Ãµes dentro de seu escopo (e.g., SACI despachando drones, CURUPIRA isolando um segmento de rede).

*   **GuardianCentralOrchestrator como Meta-Agente Coordenador:**
    *   **Gerenciamento da InteligÃªncia Coletiva:** O Orchestrator nÃ£o apenas comanda, mas facilita a colaboraÃ§Ã£o entre os subsistemas-agentes.
    *   **DelegaÃ§Ã£o de Tarefas DinÃ¢mica:** Baseado na situaÃ§Ã£o global e nas capacidades/disponibilidade dos subsistemas, o Orchestrator delega tarefas de forma otimizada.
    *   **ResoluÃ§Ã£o de Conflitos:** Implementa mecanismos para resolver conflitos de objetivos ou recursos entre subsistemas.
    *   **Aprendizado Emergente e Adaptativo:** O sistema aprende tanto a nÃ­vel de subsistema quanto a nÃ­vel de orquestraÃ§Ã£o, adaptando suas estratÃ©gias com base em novas informaÃ§Ãµes e no sucesso/falha de aÃ§Ãµes passadas. Frameworks como CrewAI e LangGraph sÃ£o explorados para definir e gerenciar esses agentes e suas interaÃ§Ãµes complexas, permitindo a criaÃ§Ã£o de workflows de decisÃ£o sofisticados e dinÃ¢micos.
    *   **ConsciÃªncia Situacional Compartilhada:** O Orchestrator mantÃ©m e dissemina uma visÃ£o consolidada do estado operacional e das ameaÃ§as, garantindo que todos os subsistemas operem com base em informaÃ§Ãµes consistentes.

---

## ğŸ’» TECH STACK CONSOLIDADO

### DocumentaÃ§Ã£o TÃ©cnica Detalhada

Para justificativas completas das escolhas tecnolÃ³gicas, consulte:
**[Tech Stack Justification](./docs/TECH_STACK_JUSTIFICATION.md)**

Este documento detalha:
* Justificativas para Python como linguagem principal
* Casos de uso para Rust em componentes crÃ­ticos
* Escolha de PyTorch vs TensorFlow Lite
* Arquitetura de bancos de dados multi-modal
* EstratÃ©gia de evoluÃ§Ã£o tecnolÃ³gica do MVP para produÃ§Ã£o

### Resumo Executivo do Stack

**Backend Principal:**
* **Python 3.11+** (85% do sistema)
  * FastAPI (API Gateway)
  * PyTorch 2.0+ (Modelos neurais)
  * CrewAI (CoordenaÃ§Ã£o multi-agente)
  * LangGraph (Workflows de IA)
  * Pandas, NumPy (Processamento de dados)

**IA/ML Stack:**
* **HuggingFace Transformers** (NLP)
* **TensorFlow Lite** (InferÃªncia edge)
* **Scikit-learn** (ML clÃ¡ssico - MVP)
* **RLHF** (Reinforcement Learning from Human Feedback)

**Infraestrutura:**
* **Kubernetes** (OrquestraÃ§Ã£o)
* **Apache Kafka** (Streaming)
* **Redis Cluster** (Cache distribuÃ­do)

**Bancos de Dados:**
* **PostgreSQL + TimescaleDB** (Dados relacionais + sÃ©ries temporais)
* **Neo4j** (Grafos de dependÃªncias)
* **InfluxDB** (MÃ©tricas IoT)
* **Pinecone** (Banco vetorial para IA)

**Edge Computing:**
* **ESP32-S3** (Processamento edge com AI)
* **Raspberry Pi 4** (NÃ³s de coordenaÃ§Ã£o)
* **LoRa E32** (ComunicaÃ§Ã£o longo alcance)

**Frontend Conceitual:**
* **React + TypeScript** (Dashboard web)
* **D3.js** (VisualizaÃ§Ãµes especializadas)
* **React Native** (App mÃ³vel)

---

## ğŸ› ï¸ IMPLEMENTAÃ‡ÃƒO MVP - SACI (DIA 2)

### Status do Desenvolvimento - 30 de Maio de 2025

#### Entregas do Dia 2

**1. DocumentaÃ§Ã£o TÃ©cnica Finalizada âœ…**
* Justificativas completas do tech stack
* Roadmap de evoluÃ§Ã£o tecnolÃ³gica MVP â†’ ProduÃ§Ã£o
* Comparativo MicroPython vs Arduino C++

**2. Firmware ESP32 Desenvolvido âœ…**
* **Arquivo:** `src/hardware/esp32/saci_sensor_node.py`
* **Linguagem:** MicroPython (conforme justificativa)
* **Sensores:** DHT22 (temperatura/umidade) + MQ-135 (gases)
* **Funcionalidades:**
  * Leitura de sensores a cada 2 segundos
  * CÃ¡lculo bÃ¡sico de risco de incÃªndio
  * Tratamento de erros robusto
  * Gerenciamento de memÃ³ria
  * Formato de dados padronizado

**3. Leitor Serial Python Desenvolvido âœ…**
* **Arquivo:** `src/data_collection/saci_serial_reader.py`
* **Funcionalidades:**
  * Parsing automÃ¡tico de dados do ESP32
  * Suporte a argumentos de linha de comando
  * Logs em formato JSON Lines
  * Modo de teste de conexÃ£o
  * Tratamento de erros de comunicaÃ§Ã£o

**4. Sistema de Testes Implementado âœ…**
* **Arquivo:** `src/tests/test_saci_serial.py`
* **Cobertura:** Parsing de dados, casos de erro, simulaÃ§Ã£o ESP32
* **ValidaÃ§Ã£o:** Formato de dados, tratamento de erros

#### Exemplo de Dados Coletados

```json
{
  "timestamp": "2025-05-30T14:30:15.123456",
  "temperature": 28.5,
  "humidity": 45.2,
  "smoke": 380,
  "risk_level": "MEDIUM",
  "raw_line": "Temp: 28.5 C, Hum: 45.2 %, Smoke: 380, Risk: MEDIUM"
}
```

#### InstruÃ§Ãµes de Uso

**1. Upload do Firmware:**
```bash
# Conectar ESP32 via USB
# Usar Thonny IDE ou esptool para upload
cp src/hardware/esp32/saci_sensor_node.py /media/ESP32/main.py
```

**2. Leitura de Dados:**
```bash
# Instalar dependÃªncias
pip install -r src/requirements.txt

# Leitura bÃ¡sica
python src/data_collection/saci_serial_reader.py /dev/ttyUSB0

# Com log em arquivo
python src/data_collection/saci_serial_reader.py /dev/ttyUSB0 --output sensor_data.jsonl

# Teste de conexÃ£o
python src/data_collection/saci_serial_reader.py /dev/ttyUSB0 --test
```

**3. ValidaÃ§Ã£o do Sistema:**
```bash
# Executar testes
python src/tests/test_saci_serial.py
```

#### MÃ©tricas de Performance MVP

* **FrequÃªncia de Amostragem:** 0.5 Hz (a cada 2 segundos)
* **LatÃªncia de ComunicaÃ§Ã£o:** < 100ms (serial USB)
* **PrecisÃ£o de Sensores:** Â±0.5Â°C (temperatura), Â±2% RH (umidade)
* **Uptime do ESP32:** > 24 horas contÃ­nuas
* **Taxa de Parsing:** 100% para dados bem formados

---

## ğŸ—‚ï¸ MODELO DE DADOS UNIFICADO

### Banco de Dados Multi-Modal

#### 1. PostgreSQL - Dados Operacionais e Relacionais
```sql
-- Esquema Central do Sistema
CREATE SCHEMA guardian_core;

-- Tabela Central de Eventos Multi-Subsistema
CREATE TABLE guardian_core.cross_system_events (
    event_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    subsystems_involved TEXT[] NOT NULL,
    event_type VARCHAR(100) NOT NULL,
    severity_level INTEGER CHECK (severity_level BETWEEN 1 AND 10),
    geographical_coordinates POINT,
    start_timestamp TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    end_timestamp TIMESTAMPTZ,
    coordination_strategy JSONB,
    outcome_assessment JSONB,
    lessons_learned TEXT
);

-- Estado do Sistema em Tempo Real
CREATE TABLE guardian_core.system_state (
    state_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    timestamp TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    curupira_status JSONB,
    iara_status JSONB,
    saci_status JSONB,
    boitata_status JSONB,
    anhanga_status JSONB,
    overall_threat_level INTEGER,
    resource_availability JSONB,
    coordination_policies JSONB
);

-- PolÃ­ticas de CoordenaÃ§Ã£o
CREATE TABLE guardian_core.coordination_policies (
    policy_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    policy_name VARCHAR(255) NOT NULL,
    triggering_conditions JSONB NOT NULL,
    response_workflow JSONB NOT NULL,
    authority_levels JSONB,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW(),
    is_active BOOLEAN DEFAULT TRUE
);
```

#### 2. InfluxDB - SÃ©ries Temporais de Sensores
```python
# Schema para SACI (Fire Prevention)
saci_sensor_readings = {
    "measurement": "saci_sensors",
    "tags": {
        "sensor_id": "string",
        "sensor_type": "string",
        "location_zone": "string",
        "vegetation_type": "string"
    },
    "fields": {
        "temperature": "float",
        "humidity": "float",
        "smoke_density": "float",
        "co_levels": "float",
        "wind_speed": "float",
        "wind_direction": "float",
        "battery_level": "float",
        "fire_risk_score": "float"
    },
    "time": "timestamp"
}

# Schema para CURUPIRA (Cybersecurity)
curupira_network_metrics = {
    "measurement": "curupira_network",
    "tags": {
        "device_id": "string",
        "device_type": "string",
        "network_segment": "string",
        "criticality_level": "string"
    },
    "fields": {
        "traffic_volume": "float",
        "packet_anomaly_score": "float",
        "connection_count": "integer",
        "threat_score": "float",
        "response_time": "float"
    },
    "time": "timestamp"
}
```

#### 3. Neo4j - DependÃªncias e Relacionamentos
```cypher
// Modelo de DependÃªncias Urbanas para BOITATÃ
CREATE (power:Infrastructure {
    type: 'PowerGrid',
    name: 'CEMIG_BH_Central',
    criticality: 9,
    location: point({latitude: -19.9208, longitude: -43.9378}),
    capacity: 1000,
    redundancy_level: 3
})

CREATE (water:Infrastructure {
    type: 'WaterTreatment',
    name: 'COPASA_Metro_BH',
    criticality: 8,
    location: point({latitude: -19.9315, longitude: -43.9345}),
    capacity: 500000,
    redundancy_level: 2
})

CREATE (hospital:Infrastructure {
    type: 'Hospital',
    name: 'Hospital_das_Clinicas',
    criticality: 10,
    location: point({latitude: -19.9167, longitude: -43.9459}),
    bed_capacity: 500,
    emergency_capacity: 50
})

// Relacionamentos de DependÃªncia
CREATE (hospital)-[:DEPENDS_ON {
    dependency_type: 'critical',
    failure_propagation_time: 30,
    backup_duration: 120
}]->(power)

CREATE (water)-[:DEPENDS_ON {
    dependency_type: 'essential',
    failure_propagation_time: 60,
    backup_duration: 480
}]->(power)
```

---
