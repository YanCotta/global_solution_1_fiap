# SISTEMA GUARDIÃO - MASTER DOCUMENTATION

## Plataforma Nacional Integrada de Prevenção e Resposta a Eventos Extremos

**Status:** Em Desenvolvimento (Global Solution FIAP 2025.1 - Sprint de 10 Dias)  
**Repositório:** [https://github.com/YanCotta/global_solution_1_fiap](https://github.com/YanCotta/global_solution_1_fiap)  
**Equipe:** Yan Cotta  
**Data de Criação:** Maio 2025  
**Versão:** 2.0 - Documentação Consolidada  

---

## 🎯 SUMÁRIO EXECUTIVO EXPANDIDO

O **Sistema Guardião** transcende a gestão de crises tradicional, estabelecendo-se como uma **plataforma nacional de inteligência simbiótica**, onde a mais avançada **Inteligência Artificial agêntica** se entrelaça com a **sabedoria ancestral do folclore brasileiro**. Esta fusão não é meramente nominal; ela inspira a arquitetura de agentes autônomos especializados (os "Guardiões Digitais"), cada um ecoando as características protetoras de suas contrapartes lendárias. O sistema é projetado com um **foco dual e indissociável**: por um lado, a **prevenção proativa**, antecipando e mitigando ameaças antes de sua materialização; por outro, a **resposta ágil e coordenada**, orquestrando recursos de forma otimizada quando eventos extremos ocorrem.

A **inovação central** reside na aplicação de **IA agêntica em escala nacional para infraestruturas críticas**. Diferentemente de sistemas centralizados e monolíticos, o Guardião opera como um ecossistema de agentes inteligentes e colaborativos. Esta abordagem permite uma **coordenação descentralizada, resiliente e emergente**, capaz de se adaptar dinamicamente a cenários complexos e imprevistos, garantindo a continuidade operacional e a segurança da nação.

### Proposta de Valor Multifacetada

O Sistema Guardião oferece um valor transformador para múltiplos stakeholders:

* **Para o Governo e Órgãos Públicos:**
  * **Segurança Nacional Aprimorada:** Capacidade preditiva e de resposta significativamente elevada contra uma vasta gama de ameaças (naturais, tecnológicas, sanitárias, cibernéticas).
  * **Otimização de Recursos e Redução de Custos:** Alocação inteligente de recursos emergenciais, minimizando desperdícios e maximizando o impacto das intervenções. Redução de custos associados a danos e reconstrução.
  * **Tomada de Decisão Baseada em Dados:** Dashboards e análises avançadas para embasar políticas públicas e estratégias de longo prazo.
  * **Resiliência da Infraestrutura Crítica:** Proteção robusta para setores vitais como energia, água, comunicações, saúde e transportes.

* **Para os Cidadãos:**
  * **Segurança e Bem-Estar Aumentados:** Redução do risco de exposição a desastres e eventos extremos, com sistemas de alerta precoce mais eficazes e personalizados.
  * **Melhoria da Qualidade de Vida:** Minimização de interrupções em serviços essenciais e maior rapidez na recuperação pós-evento.
  * **Confiança e Transparência:** Comunicação clara e acessível sobre riscos e ações de proteção, fortalecendo o elo entre o Estado e a população.

* **Para Empresas e Setor Privado:**
  * **Resiliência Operacional e Continuidade de Negócios:** Proteção de ativos e infraestruturas, minimizando perdas e interrupções de produção.
  * **Novas Oportunidades de Mercado:** Desenvolvimento de soluções e serviços complementares ao ecossistema Guardião.
  * **Redução de Riscos e Prêmios de Seguro:** Mitigação de riscos operacionais e ambientais, potencialmente levando a condições de seguro mais favoráveis.
  * **Dados para Inovação:** Acesso (controlado e anonimizado) a dados e insights para desenvolvimento de novos produtos e serviços.

### Inovação Central: IA Agêntica em Escala Nacional

**Coordenação Multi-Agente:** Sistema onde cada subsistema funciona como um agente inteligente autônomo, utilizando princípios de CrewAI (fundada por um brasileiro) e LangGraph para coordenação emergente.

**Valores Únicos de Proposta:**
- **Inteligência Preventiva:** Alertas dias antes de 85% dos eventos catastróficos
- **Prevenção de Cascatas:** Intervenção automatizada antes da propagação de falhas
- **Otimização de Recursos:** Alocação dinâmica reduzindo tempo de resposta em pelo menos 60%
- **Integração Cultural:** Nomenclatura baseada no folclore brasileiro para confiança pública

### Os Cinco Guardiões Digitais

1. **🦶 CURUPIRA** - Centro Unificado de Resposta e Proteção de Infraestruturas Críticas
   * **Missão:** Proteção híbrida físico-digital de infraestruturas críticas
   * **Especialização:** Correlação de ameaças cibernéticas com sensores físicos
   * **IA:** Detector híbrido com redes neurais ensemble

2. **🏥 IARA** - Inteligência Artificial para Resposta e Alerta Epidemiológico
   * **Missão:** Predição precoce de surtos através de monitoramento ambiental
   * **Especialização:** Modelos epidemiológicos adaptativos (SEIR + RL)
   * **IA:** Análise biométrica distribuída e correlação comportamental

3. **🔥 SACI** - Sistema de Alerta e Combate a Incêndios Florestais
   * **Missão:** Detecção ultra-precoce e coordenação autônoma de resposta
   * **Especialização:** Inteligência de enxame (swarm intelligence)
   * **IA:** Algoritmos inspirados em colônia de formigas para coordenação distribuída

4. **⚡ BOITATÁ** - Bloco Operacional Integrado para Tratamento de Anomalias Urbanas
   * **Missão:** Prevenção de efeitos cascata em sistemas urbanos interdependentes
   * **Especialização:** Digital twin urbano e análise de dependências
   * **IA:** Modelagem de sistemas complexos e predição de falhas em cascata

5. **📡 ANHANGÁ** - Aliança Nacional Híbrida para Garantia de Atividades de Comunicação
   * **Missão:** Comunicações resilientes durante colapso de infraestrutura
   * **Especialização:** Redes mesh auto-organizáveis
   * **IA:** Roteamento inteligente e priorização de mensagens por NLP

---

## 🏗️ ARQUITETURA SISTÊMICA CONSOLIDADA

A arquitetura do Sistema Guardião é concebida para ser robusta, escalável e resiliente, integrando múltiplos subsistemas especializados sob uma coordenação central inteligente. Ela se baseia em princípios de microsserviços, computação de borda (edge computing), e inteligência artificial distribuída.

### Princípios Arquiteturais Chave

*   **Modularidade:** Cada Guardião Digital (CURUPIRA, IARA, SACI, BOITATÁ, ANHANGÁ) é um subsistema independente, permitindo desenvolvimento, implantação e escalabilidade isolados.
*   **Descentralização Coordenada:** Enquanto subsistemas operam com autonomia em seus domínios, o `GuardianCentralOrchestrator` provê a inteligência estratégica e a coordenação sinérgica entre eles.
*   **Resiliência:** Alta disponibilidade e tolerância a falhas são incorporadas em todas as camadas, desde a infraestrutura de comunicação até os algoritmos de IA.
*   **Segurança por Design (Security by Design):** Práticas de segurança são integradas desde a concepção, abrangendo dados, comunicações e processos.
*   **Interoperabilidade:** Interfaces padronizadas e protocolos abertos facilitam a integração com sistemas legados e futuros.
*   **Escalabilidade:** A arquitetura suporta crescimento horizontal e vertical para acomodar aumento de volume de dados, número de sensores e complexidade das ameaças.

### Camadas Arquiteturais

```text
┌─────────────────────────────────────────────────────────┐
│           CAMADA DE COORDENAÇÃO AGÊNTICA                │
│        (GuardianCentralOrchestrator + CrewAI/LangGraph) │
├─────────────────────────────────────────────────────────┤
│ CAMADA DE SERVIÇOS DE SUBSISTEMAS (Guardiões Digitais)  │
│     CURUPIRA │ IARA │ SACI │ BOITATÁ │ ANHANGÁ        │
├─────────────────────────────────────────────────────────┤
│           CAMADA DE DADOS E PERSISTÊNCIA                │
│ (PostgreSQL, InfluxDB, Neo4j, Pinecone, Data Lakes)     │
├─────────────────────────────────────────────────────────┤
│        CAMADA DE COMUNICAÇÃO E MENSAGERIA               │
│ (Kafka, gRPC, MQTT, REST/GraphQL, API Gateway)          │
├─────────────────────────────────────────────────────────┤
│      CAMADA DE INTEGRAÇÃO E INTEROPERABILIDADE          │
│ (Adaptadores para Sistemas Externos, Fontes de Dados)   │
├─────────────────────────────────────────────────────────┤
│ CAMADA DE SENSORIAMENTO E COMPUTAÇÃO DE BORDA (Edge)    │
│ (Sensores IoT, Dispositivos Edge com IA Embarcada)      │
└─────────────────────────────────────────────────────────┘
```

### Protocolos de Comunicação Detalhados

O Sistema Guardião emprega um conjunto diversificado de protocolos de comunicação, escolhidos para otimizar diferentes aspectos da interação entre componentes, subsistemas e entidades externas:

*   **Comunicação Interna Primária (Inter-Serviços e Orquestração):**
    *   **Apache Kafka:** Utilizado como a espinha dorsal para comunicação assíncrona, streaming de eventos e dados entre os subsistemas e o `GuardianCentralOrchestrator`. Garante desacoplamento, resiliência e alta taxa de transferência.
        *   **Formatos de Dados:** Apache Avro ou Protobuf para serialização eficiente de mensagens, garantindo schemas bem definidos e evolução controlada.
    *   **gRPC (Google Remote Procedure Call):** Empregado para comunicação síncrona de baixa latência e alta performance entre microsserviços internos, especialmente para requisições diretas e respostas rápidas onde o modelo assíncrono não é ideal. Utiliza HTTP/2 e Protobuf.

*   **Comunicação com Dispositivos de Borda (Edge) e IoT:**
    *   **MQTT (Message Queuing Telemetry Transport):** Protocolo leve e eficiente, ideal para a coleta de dados de um grande número de sensores IoT e dispositivos de borda com recursos limitados ou conexões instáveis. Suporta QoS (Quality of Service) para garantir entrega de mensagens críticas.

*   **Comunicação com Sistemas Externos e APIs:**
    *   **RESTful APIs (JSON):** Para integrações com sistemas legados, parceiros externos e para exposição de funcionalidades específicas do Guardião a consumidores autorizados. JSON sobre HTTPS é o padrão.
    *   **GraphQL:** Considerado para interfaces de consulta de dados mais flexíveis, permitindo que clientes solicitem apenas os dados de que necessitam, otimizando a transferência de dados para dashboards e aplicações móveis.

*   **Redes de Comunicação Subjacentes:**
    *   A camada de conectividade física se apoiará em 5G/6G para alta largura de banda e baixa latência, LoRaWAN para comunicação de longo alcance e baixo consumo energético em áreas remotas, redes mesh auto-organizáveis para resiliência em cenários de falha de infraestrutura, e comunicação via satélite como contingência e para cobertura em locais isolados.

### GuardianCentralOrchestrator: Fluxo de Dados e Decisão

O `GuardianCentralOrchestrator` é o cérebro estratégico do Sistema Guardião. Seu fluxo de dados e processo decisório são complexos e iterativos:

1.  **Ingestão de Eventos e Inteligência:**
    *   Recebe fluxos contínuos de eventos, alertas e dados processados dos cinco subsistemas (CURUPIRA, IARA, SACI, BOITATÁ, ANHANGÁ) via tópicos dedicados no Kafka.
    *   Consome dados de fontes externas (meteorologia, inteligência de ameaças globais, dados governamentais) através de adaptadores específicos.

2.  **Enriquecimento e Contextualização:**
    *   Utiliza o **Pinecone (VectorDB)** para buscar contextos semânticos relevantes, como padrões históricos de eventos, perfis de ameaças similares e documentos de procedimentos operacionais.
    *   Consulta o **PostgreSQL** para dados relacionais estruturados, como inventário de ativos críticos, políticas de segurança, e status de recursos.
    *   Acessa o **Neo4j** para entender interdependências complexas entre infraestruturas e potenciais efeitos cascata.

3.  **Análise e Tomada de Decisão Agêntica:**
    *   Emprega um framework de IA agêntica (inspirado em **CrewAI/LangGraph**) onde agentes especializados dentro do Orchestrator analisam a situação multifacetada.
    *   Estes agentes colaboram para: avaliar a severidade e o impacto potencial do evento; simular cenários de resposta; identificar conflitos de recursos; e otimizar a alocação de tarefas.
    *   Modelos de aprendizado de máquina (predição, classificação, otimização) são continuamente atualizados e refinados com novos dados.

4.  **Disseminação de Comandos e Coordenação:**
    *   Com base no plano de ação gerado, o Orchestrator dissemina tarefas coordenadas e comandos para os subsistemas relevantes:
        *   Via **Kafka** para ações assíncronas e atualizações de estado.
        *   Via **gRPC** para comandos diretos e de baixa latência que exigem confirmação imediata.
    *   Atualiza dashboards executivos e painéis de controle com a situação em tempo real e as ações em curso.

5.  **Monitoramento e Aprendizado Contínuo:**
    *   Monitora a execução das tarefas pelos subsistemas, recebendo feedback e ajustando o plano conforme necessário.
    *   Registra todos os eventos, decisões e resultados para análise post-mortem e aprendizado contínuo (RLHF - Reinforcement Learning from Human Feedback e análise de logs).

### Segurança, Soberania de Dados e Conformidade

A segurança é um pilar fundamental, com uma abordagem de defesa em profundidade:

*   **Arquitetura Zero Trust:** Nenhum usuário ou serviço é confiável por padrão, interno ou externo. Autenticação e autorização rigorosas são aplicadas em todas as comunicações (mTLS, OAuth 2.0/OIDC).
*   **Criptografia:**
    *   **Dados em Trânsito:** TLS 1.3+ para todas as comunicações. Consideração para criptografia pós-quântica (PQC) em canais críticos.
    *   **Dados em Repouso:** Criptografia a nível de banco de dados (e.g., TDE para PostgreSQL, AES-256 para arquivos em Data Lakes) e a nível de volume/disco.
    *   **Gerenciamento de Chaves:** Soluções robustas de gerenciamento de chaves (HSMs ou KMS em nuvem, se aplicável e alinhado com soberania).
*   **Segurança de APIs:** Uso de API Gateways com WAF (Web Application Firewall), rate limiting, e detecção de anomalias.
*   **Segurança de Infraestrutura:** Segmentação de rede, firewalls, IDS/IPS, e monitoramento contínuo de vulnerabilidades.
*   **Soberania de Dados:**
    *   **Localização:** Todos os dados sensíveis e operacionais serão armazenados e processados em data centers localizados exclusivamente em território brasileiro.
    *   **Conformidade com LGPD (Lei Geral de Proteção de Dados):** Implementação de mecanismos de anonimização, pseudonimização, gestão de consentimento, direito ao esquecimento, e relatórios de impacto à proteção de dados (RIPD).
    *   **Certificações e Auditorias:** Busca por certificações relevantes (e.g., ISO 27001, SOC 2) e conformidade com diretrizes do Gabinete de Segurança Institucional (GSI) para sistemas estratégicos de defesa e segurança nacional.

### Implementação da IA Agêntica

A abordagem de IA agêntica é central para a inteligência e adaptabilidade do Sistema Guardião:

*   **Subsistemas como Agentes Especializados:** Cada Guardião Digital (CURUPIRA, IARA, etc.) é, em si, um agente ou um conjunto de agentes especializados em seu domínio. Eles possuem:
    *   **Percepção:** Capacidade de ingerir e processar dados de seus sensores e fontes específicas.
    *   **Raciocínio:** Modelos de IA e lógicas de negócio para analisar dados, detectar anomalias, prever eventos e formular planos de ação locais.
    *   **Ação:** Capacidade de executar ações dentro de seu escopo (e.g., SACI despachando drones, CURUPIRA isolando um segmento de rede).

*   **GuardianCentralOrchestrator como Meta-Agente Coordenador:**
    *   **Gerenciamento da Inteligência Coletiva:** O Orchestrator não apenas comanda, mas facilita a colaboração entre os subsistemas-agentes.
    *   **Delegação de Tarefas Dinâmica:** Baseado na situação global e nas capacidades/disponibilidade dos subsistemas, o Orchestrator delega tarefas de forma otimizada.
    *   **Resolução de Conflitos:** Implementa mecanismos para resolver conflitos de objetivos ou recursos entre subsistemas.
    *   **Aprendizado Emergente e Adaptativo:** O sistema aprende tanto a nível de subsistema quanto a nível de orquestração, adaptando suas estratégias com base em novas informações e no sucesso/falha de ações passadas. Frameworks como CrewAI e LangGraph são explorados para definir e gerenciar esses agentes e suas interações complexas, permitindo a criação de workflows de decisão sofisticados e dinâmicos.
    *   **Consciência Situacional Compartilhada:** O Orchestrator mantém e dissemina uma visão consolidada do estado operacional e das ameaças, garantindo que todos os subsistemas operem com base em informações consistentes.

---

## 💻 TECH STACK CONSOLIDADO

### Documentação Técnica Detalhada

Para justificativas completas das escolhas tecnológicas, consulte:
**[Tech Stack Justification](./docs/TECH_STACK_JUSTIFICATION.md)**

Este documento detalha:
* Justificativas para Python como linguagem principal
* Casos de uso para Rust em componentes críticos
* Escolha de PyTorch vs TensorFlow Lite
* Arquitetura de bancos de dados multi-modal
* Estratégia de evolução tecnológica do MVP para produção

### Resumo Executivo do Stack

**Backend Principal:**
* **Python 3.11+** (85% do sistema)
  * FastAPI (API Gateway)
  * PyTorch 2.0+ (Modelos neurais)
  * CrewAI (Coordenação multi-agente)
  * LangGraph (Workflows de IA)
  * Pandas, NumPy (Processamento de dados)

**IA/ML Stack:**
* **HuggingFace Transformers** (NLP)
* **TensorFlow Lite** (Inferência edge)
* **Scikit-learn** (ML clássico - MVP)
* **RLHF** (Reinforcement Learning from Human Feedback)

**Infraestrutura:**
* **Kubernetes** (Orquestração)
* **Apache Kafka** (Streaming)
* **Redis Cluster** (Cache distribuído)

**Bancos de Dados:**
* **PostgreSQL + TimescaleDB** (Dados relacionais + séries temporais)
* **Neo4j** (Grafos de dependências)
* **InfluxDB** (Métricas IoT)
* **Pinecone** (Banco vetorial para IA)

**Edge Computing:**
* **ESP32-S3** (Processamento edge com AI)
* **Raspberry Pi 4** (Nós de coordenação)
* **LoRa E32** (Comunicação longo alcance)

**Frontend Conceitual:**
* **React + TypeScript** (Dashboard web)
* **D3.js** (Visualizações especializadas)
* **React Native** (App móvel)

---

## 🛠️ IMPLEMENTAÇÃO MVP - SACI (DIA 2)

### Status do Desenvolvimento - 30 de Maio de 2025

#### Entregas do Dia 2

**1. Documentação Técnica Finalizada ✅**
* Justificativas completas do tech stack
* Roadmap de evolução tecnológica MVP → Produção
* Comparativo MicroPython vs Arduino C++

**2. Firmware ESP32 Desenvolvido ✅**
* **Arquivo:** `src/hardware/esp32/saci_sensor_node.py`
* **Linguagem:** MicroPython (conforme justificativa)
* **Sensores:** DHT22 (temperatura/umidade) + MQ-135 (gases)
* **Funcionalidades:**
  * Leitura de sensores a cada 2 segundos
  * Cálculo básico de risco de incêndio
  * Tratamento de erros robusto
  * Gerenciamento de memória
  * Formato de dados padronizado

**3. Leitor Serial Python Desenvolvido ✅**
* **Arquivo:** `src/data_collection/saci_serial_reader.py`
* **Funcionalidades:**
  * Parsing automático de dados do ESP32
  * Suporte a argumentos de linha de comando
  * Logs em formato JSON Lines
  * Modo de teste de conexão
  * Tratamento de erros de comunicação

**4. Sistema de Testes Implementado ✅**
* **Arquivo:** `src/tests/test_saci_serial.py`
* **Cobertura:** Parsing de dados, casos de erro, simulação ESP32
* **Validação:** Formato de dados, tratamento de erros

#### Exemplo de Dados Coletados

```json
{
  "timestamp": "2025-05-30T14:30:15.123456",
  "temperature": 28.5,
  "humidity": 45.2,
  "smoke": 380,
  "risk_level": "MEDIUM",
  "raw_line": "Temp: 28.5 C, Hum: 45.2 %, Smoke: 380, Risk: MEDIUM"
}
```

#### Instruções de Uso

**1. Upload do Firmware:**
```bash
# Conectar ESP32 via USB
# Usar Thonny IDE ou esptool para upload
cp src/hardware/esp32/saci_sensor_node.py /media/ESP32/main.py
```

**2. Leitura de Dados:**
```bash
# Instalar dependências
pip install -r src/requirements.txt

# Leitura básica
python src/data_collection/saci_serial_reader.py /dev/ttyUSB0

# Com log em arquivo
python src/data_collection/saci_serial_reader.py /dev/ttyUSB0 --output sensor_data.jsonl

# Teste de conexão
python src/data_collection/saci_serial_reader.py /dev/ttyUSB0 --test
```

**3. Validação do Sistema:**
```bash
# Executar testes
python src/tests/test_saci_serial.py
```

#### Métricas de Performance MVP

* **Frequência de Amostragem:** 0.5 Hz (a cada 2 segundos)
* **Latência de Comunicação:** < 100ms (serial USB)
* **Precisão de Sensores:** ±0.5°C (temperatura), ±2% RH (umidade)
* **Uptime do ESP32:** > 24 horas contínuas
* **Taxa de Parsing:** 100% para dados bem formados

---

## 🗂️ MODELO DE DADOS UNIFICADO

### Banco de Dados Multi-Modal

#### 1. PostgreSQL - Dados Operacionais e Relacionais
```sql
-- Esquema Central do Sistema
CREATE SCHEMA guardian_core;

-- Tabela Central de Eventos Multi-Subsistema
CREATE TABLE guardian_core.cross_system_events (
    event_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    subsystems_involved TEXT[] NOT NULL,
    event_type VARCHAR(100) NOT NULL,
    severity_level INTEGER CHECK (severity_level BETWEEN 1 AND 10),
    geographical_coordinates POINT,
    start_timestamp TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    end_timestamp TIMESTAMPTZ,
    coordination_strategy JSONB,
    outcome_assessment JSONB,
    lessons_learned TEXT
);

-- Estado do Sistema em Tempo Real
CREATE TABLE guardian_core.system_state (
    state_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    timestamp TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    curupira_status JSONB,
    iara_status JSONB,
    saci_status JSONB,
    boitata_status JSONB,
    anhanga_status JSONB,
    overall_threat_level INTEGER,
    resource_availability JSONB,
    coordination_policies JSONB
);

-- Políticas de Coordenação
CREATE TABLE guardian_core.coordination_policies (
    policy_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    policy_name VARCHAR(255) NOT NULL,
    triggering_conditions JSONB NOT NULL,
    response_workflow JSONB NOT NULL,
    authority_levels JSONB,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW(),
    is_active BOOLEAN DEFAULT TRUE
);
```

#### 2. InfluxDB - Séries Temporais de Sensores
```python
# Schema para SACI (Fire Prevention)
saci_sensor_readings = {
    "measurement": "saci_sensors",
    "tags": {
        "sensor_id": "string",
        "sensor_type": "string",
        "location_zone": "string",
        "vegetation_type": "string"
    },
    "fields": {
        "temperature": "float",
        "humidity": "float",
        "smoke_density": "float",
        "co_levels": "float",
        "wind_speed": "float",
        "wind_direction": "float",
        "battery_level": "float",
        "fire_risk_score": "float"
    },
    "time": "timestamp"
}

# Schema para CURUPIRA (Cybersecurity)
curupira_network_metrics = {
    "measurement": "curupira_network",
    "tags": {
        "device_id": "string",
        "device_type": "string",
        "network_segment": "string",
        "criticality_level": "string"
    },
    "fields": {
        "traffic_volume": "float",
        "packet_anomaly_score": "float",
        "connection_count": "integer",
        "threat_score": "float",
        "response_time": "float"
    },
    "time": "timestamp"
}
```

#### 3. Neo4j - Dependências e Relacionamentos
```cypher
// Modelo de Dependências Urbanas para BOITATÁ
CREATE (power:Infrastructure {
    type: 'PowerGrid',
    name: 'CEMIG_BH_Central',
    criticality: 9,
    location: point({latitude: -19.9208, longitude: -43.9378}),
    capacity: 1000,
    redundancy_level: 3
})

CREATE (water:Infrastructure {
    type: 'WaterTreatment',
    name: 'COPASA_Metro_BH',
    criticality: 8,
    location: point({latitude: -19.9315, longitude: -43.9345}),
    capacity: 500000,
    redundancy_level: 2
})

CREATE (hospital:Infrastructure {
    type: 'Hospital',
    name: 'Hospital_das_Clinicas',
    criticality: 10,
    location: point({latitude: -19.9167, longitude: -43.9459}),
    bed_capacity: 500,
    emergency_capacity: 50
})

// Relacionamentos de Dependência
CREATE (hospital)-[:DEPENDS_ON {
    dependency_type: 'critical',
    failure_propagation_time: 30,
    backup_duration: 120
}]->(power)

CREATE (water)-[:DEPENDS_ON {
    dependency_type: 'essential',
    failure_propagation_time: 60,
    backup_duration: 480
}]->(power)
```

---
